---
import BaseLayout from '../layouts/BaseLayout.astro';
---

<BaseLayout title="Setup Guide - Smile AI">
  <div class="min-h-screen bg-base-100">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
      <div class="prose prose-lg max-w-none">
        <h1 class="text-4xl font-bold text-center mb-8">Ollama & GPT-OSS Setup</h1>
        
        <div class="alert alert-info mb-8">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
          <span>
            <strong>Smile AI runs completely local</strong> - no cloud API keys needed! 
            Just install Ollama and download the GPT-OSS model.
          </span>
        </div>

        <h2>Step 1: Install Ollama</h2>
        <div class="steps mb-8">
          <div class="step step-primary">Download</div>
          <div class="step step-primary">Install</div> 
          <div class="step step-primary">Verify</div>
        </div>

        <ol>
          <li>
            <strong>Download Ollama:</strong> Visit <a href="https://ollama.com" target="_blank" rel="noopener">ollama.com</a> 
            and download for your operating system.
          </li>
          <li>
            <strong>Install:</strong> Follow the installation instructions for your platform.
          </li>
          <li>
            <strong>Verify:</strong> Open terminal/command prompt and run:
            <div class="mockup-code mt-2">
              <pre data-prefix="$"><code>ollama --version</code></pre>
            </div>
          </li>
        </ol>

        <h2>Step 2: Download GPT-OSS Models</h2>
        
        <div class="grid md:grid-cols-2 gap-6 my-8">
          <div class="card bg-base-200 shadow-xl">
            <div class="card-body">
              <h3 class="card-title text-primary">ðŸš€ GPT-OSS 20B (Recommended)</h3>
              <p><strong>Parameters:</strong> ~21 billion</p>
              <p><strong>VRAM Required:</strong> ~16GB</p>
              <p><strong>Context Window:</strong> 131,072 tokens</p>
              <p><strong>Features:</strong> Strong reasoning, tool calling, excellent for most tasks</p>
              <div class="card-actions justify-end">
                <div class="mockup-code text-sm">
                  <pre data-prefix="$"><code>ollama pull gpt-oss:20b</code></pre>
                </div>
              </div>
            </div>
          </div>

          <div class="card bg-base-200 shadow-xl">
            <div class="card-body">
              <h3 class="card-title text-secondary">ðŸŽ¯ GPT-OSS 120B (Advanced)</h3>
              <p><strong>Parameters:</strong> ~117-120 billion</p>
              <p><strong>VRAM Required:</strong> 80GB (single GPU)</p>
              <p><strong>Hardware:</strong> NVIDIA H100 or equivalent</p>
              <p><strong>Features:</strong> Superior reasoning, research-grade performance</p>
              <div class="card-actions justify-end">
                <div class="mockup-code text-sm">
                  <pre data-prefix="$"><code>ollama pull gpt-oss:120b</code></pre>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="alert alert-warning mb-8">
          <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z" />
          </svg>
          <div>
            <h3 class="font-bold">Hardware Requirements</h3>
            <p>
              <strong>20B Model:</strong> Recommended 16GB+ GPU VRAM or 32GB+ system RAM<br>
              <strong>120B Model:</strong> Requires high-end hardware (80GB+ VRAM single GPU)
            </p>
          </div>
        </div>

        <h2>Step 3: Start Ollama Service</h2>
        <p>Ollama typically starts automatically after installation. To manually start:</p>
        <div class="mockup-code mb-4">
          <pre data-prefix="$"><code>ollama serve</code></pre>
        </div>
        <p>The service will run on <code>http://localhost:11434</code></p>

        <h2>Step 4: Test Your Setup</h2>
        <ol>
          <li>Ensure Ollama is running (step 3)</li>
          <li>Return to Smile AI chat interface</li>
          <li>The app will automatically detect available models</li>
          <li>Start chatting with your local AI!</li>
        </ol>

        <h2>GPT-OSS Model Details</h2>
        <div class="overflow-x-auto">
          <table class="table table-zebra w-full">
            <thead>
              <tr>
                <th>Feature</th>
                <th>GPT-OSS 20B</th>
                <th>GPT-OSS 120B</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Parameters</td>
                <td>~21 billion</td>
                <td>~117-120 billion</td>
              </tr>
              <tr>
                <td>Context Window</td>
                <td>131,072 tokens</td>
                <td>131,072 tokens</td>
              </tr>
              <tr>
                <td>Tool Calling</td>
                <td>âœ… Yes</td>
                <td>âœ… Advanced</td>
              </tr>
              <tr>
                <td>Reasoning</td>
                <td>Strong</td>
                <td>Superior</td>
              </tr>
              <tr>
                <td>License</td>
                <td>Open Weight</td>
                <td>Open Weight</td>
              </tr>
              <tr>
                <td>Min VRAM</td>
                <td>~16GB</td>
                <td>~80GB</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="bg-success/10 p-6 rounded-lg mt-8">
          <h3 class="text-xl font-semibold mb-2">ðŸŽ‰ About GPT-OSS</h3>
          <p>
            GPT-OSS represents a breakthrough in open-weight language models, offering 
            performance comparable to proprietary models while maintaining full transparency 
            and local control. Released as part of OpenAI's commitment to open research, 
            these models can be inspected, modified, and run entirely offline.
          </p>
        </div>

        <div class="text-center mt-8">
          <a href="/" class="btn btn-primary btn-lg">Start Chatting</a>
        </div>
      </div>
    </div>
  </div>
</BaseLayout>
